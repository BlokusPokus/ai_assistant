# Upstream definitions
upstream api_backend {
    server api:8000 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

upstream agent_backend {
    server api:8000 max_fails=3 fail_timeout=30s; # Assuming agent runs on same port as API for now
    keepalive 32;
}

upstream workers_backend {
    server api:8000 max_fails=3 fail_timeout=30s; # Assuming workers run on same port as API for now
    keepalive 32;
} 